---
id: commands-yakut
title: Основные команды Yakut
sidebar_label: Основные команды Yakut
sidebar_position: 3
description: Описание основных команд Yakut
---
Основные команды Yakut

Рассмотрим основные команды yakut, которые чаще всего используются при работе с сетью Cyphal:

- ```--help``` — справка по доступным командам
- ```mon``` — мониторинг сети
- ```sub``` — подписка на сообщения
- ```pub``` — публикация сообщений
- ```call``` — вызов сервисов

## Команда --help

Команда ```--help``` выводит список всех доступных команд и опций Yakut.
``` 
y --help 
``` 
Обычно её используют, чтобы:
- посмотреть доступные подкоманды;
- уточнить синтаксис и параметры команд;
- быстро сориентироваться, поддерживается ли нужная функциональность.

## Команда mon

Команда ```mon (monitor)``` используется для мониторинга сети Cyphal в реальном времени.
Она позволяет увидеть:
- какие ноды зарегистрированы в сети;
- какие порты активны;
- текущий сетевой трафик.

По принципу работы она похожа на htop, но для Cyphal-сети.
```
y mon
```
Ниже показан пример того, как может выглядеть вывод команды:

![Скриншот](/img/Yakut/y_mon.png)

## Команда sub

Команда ```sub``` используется для подписки на сообщения, публикуемые в заданный порт.
Все принятые сообщения выводятся в стандартный поток вывода (в терминал).

Общий формат команды:
```
y sub PortID:TypeMessage
```
где:
- PortID — идентификатор порта, на который выполняется подписка;
- TypeMessage — тип сообщений, которые публикуются в этот порт.

Пример использования:
```
y sub 3002:uavcan.si.unit.angular_velocity.scalar
```

На скриншоте ниже показан пример вывода команды sub:

![Скриншот](/img/Yakut/y_sub.png)

## Команда pub

Команда ```pub``` используется для публикации сообщений в указанный порт.
Она позволяет вручную отправлять сообщения в сеть Cyphal — это особенно полезно для тестирования и отладки.

Общий формат команды:
```
y pub PortID:TypeMessage Field:=Value
```
где:
- PortID — порт, в который отправляется сообщение;
- TypeMessage — тип публикуемого сообщения;
- Field:=Value — значения полей сообщения.

Пример публикации угловой скорости:
```
y pub 3004:uavcan.si.unit.angular_velocity.scalar 1.57
```
Если публикуете отрицательное значение:
```
y pub 3004:uavcan.si.unit.angular_velocity.scalar -- '-1.57'
```
После выполнения команды сообщение будет отправляться в сеть. Запустив команду в одном терминале, откройте второй и введите:
```
y sub 3004:uavcan.si.unit.angular_velocity.scalar 
```
На экране вы должны будете увидеть публикуемые вами сообщения. При необходимости можно использовать дополнительные опции для циклической публикации (например, с заданной частотой, опция -Т). 
:::info
Чтобы посмотреть доступные опции команды и примеры их использования введите в терминале ```y <команда> --help```
:::
## Команда call
Команда ``` call ``` используется для вызова сервисов Cyphal. В отличие от pub, здесь происходит запрос–ответ:
- Yakut отправляет сервисный запрос;
- целевая нода возвращает ответ.

Общий формат команды:
```
y call NodeID PortID:ServiceType Data
```
где:
- NodeID - ID узла (ноды)
- PortID — идентификатор сервисного порта;
- ServiceType — тип сервиса;
- Data — параметры запроса.

Пример вызова сервиса:
```
y call 9 172:voltbro.hmi.led_service '{r: 255, g: 0, b: 0}'
```
В ответ Yakut выведет структуру ответа сервиса, если он был успешно обработан:

![Скриншот](/img/Yakut/y_call.png)